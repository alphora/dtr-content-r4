{
  "resourceType": "StructureDefinition",
  "id": "aslp-paa-eds-screening-casefeature",
  "meta": {
    "profile": [
      "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-publishablecasefeature"
    ]
  },
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "shareable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "computable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "executable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "publishable"
    },
    {
      "url" : "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeRepresentationLevel",
      "valueCode" : "structured"
    },
    {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
      "valueReference": {
        "reference": "Device/cqf-tooling"
      }
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-featureExpression",
      "valueExpression": {
        "language": "text/cql-identifier",
        "expression": "Qualified Excessive Daytime Sleepiness",
        "reference": "http://example.org/sdh/dtr/aslp/Library/ASLPPolicyPAA"
      }
    }
  ],
  "url": "http://example.org/sdh/dtr/aslp/StructureDefinition/aslp-paa-eds-screening-casefeature",
  "name": "QualifyingExcessiveDaytimeSleepiness",
  "title": "Excessive daytime sleepiness (EDS)",
  "status": "draft",
  "experimental": true,
  "description": "Excessive daytime sleepiness (EDS)",
  "useContext": [
    {
      "code": {
        "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
        "code": "task",
        "display": "Workflow Task"
      }
    }
  ],
  "fhirVersion": "4.0.1",
  "kind": "resource",
  "abstract": false,
  "type": "Observation",
  "baseDefinition": "http://hl7.org/fhir/StructureDefinition/Observation",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Observation",
        "path": "Observation",
        "mustSupport": false
      },
      {
        "id": "Observation.code",
        "path": "Observation.code",
        "short": "Qualified Excessive Daytime Sleepiness",
        "definition": "Qualified Excessive Daytime Sleepiness",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "CodeableConcept"
          }
        ],
        "mustSupport": true,
        "patternCodeableConcept": {
          "coding": [
            {
              "system": "http://example.org/sdh/dtr/aslp/CodeSystem/aslp-paa-screening-codes",
              "code": "Qualifying-Excessive-Daytime-Sleepiness",
              "display": "Qualified Excessive Daytime Sleepiness"
            }
          ]
        }
      },
      {
        "id": "Observation.code.coding:QualifyingExcessiveDaytimeSleepinessCode.code",
        "path": "Observation.code.coding.code",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "code"
          }
        ],
        "fixedCode": "Qualifying-Excessive-Daytime-Sleepiness"
      },
      {
        "id": "Observation.value[x]",
        "path": "Observation.value[x]",
        "short": "Patient has inability to maintain wakefulness and alertness during the major waking episodes of the day, with sleep occurring unintentionally or at inappropriate times almost daily for at least three months?",
        "definition": "Patient has inability to maintain wakefulness and alertness during the major waking episodes of the day, with sleep occurring unintentionally or at inappropriate times almost daily for at least three months?",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "boolean"
          }
        ],
        "mustSupport": true
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "definition",
                "valueCanonical": "http://fhir.org/test/StructureDefinition/LaunchContexts#Observation.subject"
              },
              {
                "url": "expression",
                "valueExpression": {
                  "language": "text/fhirpath",
                  "expression": "%resource.subject"
                }
              }
            ],
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-definitionExtractValue"
          }
        ],
        "id": "Observation.subject",
        "path": "Observation.subject",
        "short": "Who the observation is about",
        "definition": "The patient this observation is about.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/StructureDefinition/Patient"
            ]
          }
        ],
        "mustSupport": true
      },
      {
        "extension": [
          {
            "extension": [
              {
                "url": "definition",
                "valueCanonical": "http://fhir.org/test/StructureDefinition/LaunchContexts#Observation.effective[x]"
              },
              {
                "url": "expression",
                "valueExpression": {
                  "language": "text/fhirpath",
                  "expression": "%resource.authored"
                }
              }
            ],
            "url": "http://hl7.org/fhir/uv/sdc/StructureDefinition/sdc-questionnaire-definitionExtractValue"
          }
        ],
        "id": "Observation.effective[x]",
        "path": "Observation.effective[x]",
        "short": "Clinically relevant time for observation",
        "definition": "The time the observed value is asserted as being true.",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "dateTime"
          }
        ],
        "mustSupport": true
      }
    ]
  }
}