{
  "resourceType": "Library",
  "id": "ASLPCrdGenericResponseLogic",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.6.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": true
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  }, {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  } ],
  "url": "http://example.org/sdh/dtr/aslp/Library/ASLPCrdGenericResponseLogic",
  "name": "ASLPCrdGenericResponseLogic",
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBU0xQQ3JkR2VuZXJpY1Jlc3BvbnNlTG9naWMKCnVzaW5nIEZISVIgdmVyc2lvbiAnNC4wLjEnCi8vIFRPRE86IHVwZGF0ZSB0byB1c2UgVVNDb3JlIGRpcmVjdGx5Ci8vdXNpbmcgVVNDb3JlIHZlcnNpb24gJzMuMS4xJwoKaW5jbHVkZSBDcmRFeHRlbmRlZENvdmVyYWdlSW5mbyBjYWxsZWQgRUNJCmluY2x1ZGUgRkhJUkhlbHBlcnMgdmVyc2lvbiAnNC4xLjAwMCcKCnBhcmFtZXRlciAiUmVxdWVzdCBJZCIgU3lzdGVtLlN0cmluZwoKLy8gTnV0cml0aW9uT3JkZXIsIFNlcnZpY2VSZXF1ZXN0LCBEZXZpY2VSZXF1ZXN0LCBNZWRpY2F0aW9uUmVxdWVzdCwgVmlzaW9uUHJlc2NyaXB0aW9uIHdpdGggL2RyYWZ0LyBzdGF0dXMKcGFyYW1ldGVyICJkcmFmdE9yZGVycyIgTGlzdDxDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4+Cgpjb250ZXh0IFBhdGllbnQKCmRlZmluZSAiRGVidWdnaW5nRW5hYmxlZCI6IAogIGZhbHNlCgpkZWZpbmUgIlNlcnZpY2UgUmVxdWVzdCBJdGVtIExpc3QiOgogICJkcmFmdE9yZGVycyIKCi8vIGRlZmluZSAiVW5rbm93blJlc291cmNlVHlwZSI6Ci8vICAgJ1Vua25vd25SZXNvdXJjZVR5cGUnCiAgICAgICAgCi8vIENSRCBNYXRyaXggb2YgdmFsdWVzCi8vIER1cGxpY2F0ZWQgdGhlIG1pbmltdW0gbmVjZXNzYXJ5IGZvciBDUkQtNyBmcm9tIEFTTFBDcmRNdWx0aXBsZVJlcXVlc3RMb2dpYwovLyBSZWZhY3RvcmVkIERldGFpbFRleHQsIERldGFpbFF1YWxpZmljYXRpb24gdG8gcmVtb3ZlIGRlcGVuZGVuY3kgb24gQVNMUENyZFJvdXRpbmVMb2dpYwpkZWZpbmUgZnVuY3Rpb24gIkNSRCBNYXRyaXgiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgewogICAgIkNSRC03IjogeyAKICAgICAgIklEIjogJ0NSRC03JywKICAgICAgIkNvdmVyZWQiOiAnY292ZXJlZCcsIAogICAgICAiUHJpb3JBdXRoTmVlZGVkIjogJ25vLWF1dGgnLCAKICAgICAgIkRldGFpbENvZGUiOiAnbm8tYXV0aCcsIAogICAgICAiRGV0YWlsVGV4dCI6ICdQcmlvciBBdXRob3JpemF0aW9uIE5vdCBSZXF1aXJlZCcsIAogICAgICAiRGV0YWlsUXVhbGlmaWNhdGlvbiI6ICdPcmRlciBpcyBjb3ZlcmVkLiBObyBwcmlvciBhdXRoIGlzIHJlcXVpcmVkIGZvciAnICsgIlNlcnZpY2UgUmVxdWVzdCBJdGVtIENvZGUiKHJlcXVlc3RJdGVtKS5kaXNwbGF5ICsgJy4nLAogICAgICAiRGV0YWlsRGVidWdnaW5nIjogJ05vdCB5ZXQgaW1wbGVtZW50ZWQuJywKICAgICAgIkRldGFpbFZhbHVlIjogJ2luZm8nCiAgICB9CiAgfQoKZGVmaW5lICJudWxsIFNlcnZpY2UgUmVxdWVzdCBJdGVtIjoKICBudWxsIGFzIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPgoKLy8gQ1JEIFN0YXRpYyB0ZXh0CmRlZmluZSAiVGl0bGUiOgogICdQcmlvciBBdXRoIEV2YWx1YXRpb24nCgovLyBDUkQgU3RhdGljIHRleHQKZGVmaW5lICJEZXNjcmlwdGlvbiI6CiAgJ0luZm9ybWF0aW9uIHJlbGF0ZWQgdG8gd2hldGhlciBhIHNlcnZpY2UgaXMgY292ZXJlZCwgbm90IGNvdmVyZWQgb3IgcmVxdWlyZXMgcHJpb3IgYXV0aCBzdWJtaXNzaW9uJwogIApkZWZpbmUgIkNvdmVyYWdlRXh0ZW5zaW9uTGlzdCI6CiAgaWYgIlNlcnZpY2UgUmVxdWVzdCBJdGVtIExpc3QiIGlzIG51bGwgdGhlbgogICAgeyAKICAgICAgIkdldENvdmVyYWdlRXh0ZW5zaW9uIigKICAgICAgICAibnVsbCBTZXJ2aWNlIFJlcXVlc3QgSXRlbSIsIAogICAgICAgIEdldENyZFJlc3VsdCgibnVsbCBTZXJ2aWNlIFJlcXVlc3QgSXRlbSIpCiAgICAgICkgCiAgICB9CiAgZWxzZQogICAgIlNlcnZpY2UgUmVxdWVzdCBJdGVtIExpc3QiIFJlcXVlc3RJdGVtCiAgICAgIHJldHVybiBhbGwKICAgICAgICAiR2V0Q292ZXJhZ2VFeHRlbnNpb24iKFJlcXVlc3RJdGVtLCBHZXRDcmRSZXN1bHQoUmVxdWVzdEl0ZW0pKQoKLy8gQ1JEIExvZ2ljIHRyZWUKZGVmaW5lIGZ1bmN0aW9uIEdldENyZFJlc3VsdChyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pCnJldHVybnMgVHVwbGV7IklEIiBTeXN0ZW0uU3RyaW5nLCAiQ292ZXJlZCIgU3lzdGVtLlN0cmluZywgIlByaW9yQXV0aE5lZWRlZCIgU3lzdGVtLlN0cmluZywgIkRldGFpbENvZGUiIFN5c3RlbS5TdHJpbmcsICJEZXRhaWxUZXh0IiBTeXN0ZW0uU3RyaW5nLCAiRGV0YWlsUXVhbGlmaWNhdGlvbiIgU3lzdGVtLlN0cmluZywgIkRldGFpbERlYnVnZ2luZyIgU3lzdGVtLlN0cmluZywgIkRldGFpbFZhbHVlIiBTeXN0ZW0uU3RyaW5nfToKICAvLyBBbHdheXMganVzdCByZXR1cm4gQ1JELTcgcmVzcG9uc2UKICAiQ1JEIE1hdHJpeCIocmVxdWVzdEl0ZW0pLiJDUkQtNyIKCmRlZmluZSBmdW5jdGlvbiAiR2V0Q292ZXJhZ2VFeHRlbnNpb24iKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPiwgaXRlbSBUdXBsZXsiSUQiIFN5c3RlbS5TdHJpbmcsICJDb3ZlcmVkIiBTeXN0ZW0uU3RyaW5nLCAiUHJpb3JBdXRoTmVlZGVkIiBTeXN0ZW0uU3RyaW5nLCAiRGV0YWlsQ29kZSIgU3lzdGVtLlN0cmluZywgIkRldGFpbFRleHQiIFN5c3RlbS5TdHJpbmcsICJEZXRhaWxRdWFsaWZpY2F0aW9uIiBTeXN0ZW0uU3RyaW5nLCAiRGV0YWlsRGVidWdnaW5nIiBTeXN0ZW0uU3RyaW5nLCAiRGV0YWlsVmFsdWUiIFN5c3RlbS5TdHJpbmd9KQpyZXR1cm5zIEZISVIuRXh0ZW5zaW9uOgogICJFeHRlbnNpb25QcmlvckF1dGhOZWVkZWQiKAogICAgcmVxdWVzdEl0ZW0sCiAgICBpdGVtLiJDb3ZlcmVkIiwgCiAgICBpdGVtLiJQcmlvckF1dGhOZWVkZWQiLCAKICAgIGl0ZW0uIkRldGFpbENvZGUiLCAKICAgIGl0ZW0uIkRldGFpbFRleHQiLCAKICAgIGl0ZW0uIkRldGFpbFF1YWxpZmljYXRpb24iLAogICAgaXRlbS4iRGV0YWlsVmFsdWUiCiAgKQpkZWZpbmUgZnVuY3Rpb24gRXh0ZW5zaW9uUHJpb3JBdXRoTmVlZGVkKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0PiwgY292ZXJlZCBTeXN0ZW0uU3RyaW5nLCBwcmlvckF1dGhSZXF1aXJlZCBTeXN0ZW0uU3RyaW5nLCBjb2RlVmFsdWUgU3lzdGVtLlN0cmluZywgZGV0YWlsVGV4dCBTeXN0ZW0uU3RyaW5nLCBxdWFsaWZpY2F0aW9uIFN5c3RlbS5TdHJpbmcsIHdhcm5pbmdPckluZm8gU3lzdGVtLlN0cmluZykKcmV0dXJucyBGSElSLkV4dGVuc2lvbjoKICBFQ0kuRXh0ZW5zaW9uUHJpb3JBdXRoTmVlZGVkKCdQcm92aWRlcklkVmFsdWUnLCBjb3ZlcmVkLCBwcmlvckF1dGhSZXF1aXJlZCwgIlJlcXVlc3QgSWQiLCAiU2VydmljZSBSZXF1ZXN0IEl0ZW0gSUQiKHJlcXVlc3RJdGVtKSwgIlNlcnZpY2UgUmVxdWVzdCBJdGVtIENvZGUiKHJlcXVlc3RJdGVtKSwgY29kZVZhbHVlLCBkZXRhaWxUZXh0LCBxdWFsaWZpY2F0aW9uLCB3YXJuaW5nT3JJbmZvKQoKZGVmaW5lIGZ1bmN0aW9uICJTZXJ2aWNlIFJlcXVlc3QgSXRlbSBJRCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24sIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3Q+KToKICAvLyBHZXRSZXNvdXJjZVR5cGUocmVxdWVzdEl0ZW0pICsgJy8nICsgcmVxdWVzdEl0ZW0uaWQudmFsdWUKICBpZiBHZXRSZXNvdXJjZVR5cGUocmVxdWVzdEl0ZW0pID0gJ1NlcnZpY2VSZXF1ZXN0IFJlc291cmNlJyAKICAgIHRoZW4gKyAnU2VydmljZVJlcXVlc3QvJyArIHJlcXVlc3RJdGVtLmlkLnZhbHVlCiAgZWxzZSBpZiBHZXRSZXNvdXJjZVR5cGUocmVxdWVzdEl0ZW0pID0gJ051dHJpdGlvbk9yZGVyIFJlc291cmNlJwogICAgdGhlbiArICdOdXRyaXRpb25PcmRlci8nICsgcmVxdWVzdEl0ZW0uaWQudmFsdWUKICBlbHNlIGlmIEdldFJlc291cmNlVHlwZShyZXF1ZXN0SXRlbSkgPSAnRGV2aWNlUmVxdWVzdCBSZXNvdXJjZScKICAgIHRoZW4gKyAnRGV2aWNlUmVxdWVzdC8nICsgcmVxdWVzdEl0ZW0uaWQudmFsdWUKICBlbHNlIGlmIEdldFJlc291cmNlVHlwZShyZXF1ZXN0SXRlbSkgPSAnVmlzaW9uUHJlc2NyaXB0aW9uIFJlc291cmNlJwogICAgdGhlbiArICdWaXNpb25QcmVzY3JpcHRpb24vJyArIHJlcXVlc3RJdGVtLmlkLnZhbHVlCiAgZWxzZSBpZiBHZXRSZXNvdXJjZVR5cGUocmVxdWVzdEl0ZW0pID0gJ01lZGljYXRpb25SZXF1ZXN0IFJlc291cmNlJwogICAgdGhlbiArICdNZWRpY2F0aW9uUmVxdWVzdC8nICsgcmVxdWVzdEl0ZW0uaWQudmFsdWUKICBlbHNlIGlmIEdldFJlc291cmNlVHlwZShyZXF1ZXN0SXRlbSkgPSAnQ29tbXVuaWNhdGlvblJlcXVlc3QgUmVzb3VyY2UnCiAgICB0aGVuICsgJ0NvbW11bmljYXRpb25SZXF1ZXN0LycgKyByZXF1ZXN0SXRlbS5pZC52YWx1ZQogIGVsc2UgJ1Vua25vd25SZXNvdXJjZScKCmRlZmluZSBmdW5jdGlvbiBHZXRSZXNvdXJjZVR5cGUociBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbiwgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdD4pOgovLyByZXR1cm5zIFN5c3RlbS5TdHJpbmc6CiAgaWYgKHIgaXMgRkhJUi5TZXJ2aWNlUmVxdWVzdCkgdGhlbgogICAgJ1NlcnZpY2VSZXF1ZXN0IFJlc291cmNlJwogIGVsc2UgaWYgKHIgaXMgRkhJUi5OdXRyaXRpb25PcmRlcikgdGhlbgogICAgJ051dHJpdGlvbk9yZGVyIFJlc291cmNlJwogIGVsc2UgaWYgKHIgaXMgRkhJUi5EZXZpY2VSZXF1ZXN0KSB0aGVuCiAgICAnRGV2aWNlUmVxdWVzdCBSZXNvdXJjZScKICBlbHNlIGlmIChyIGlzIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uKSB0aGVuCiAgICAnVmlzaW9uUHJlc2NyaXB0aW9uIFJlc291cmNlJwogIGVsc2UgaWYgKHIgaXMgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCkgdGhlbgogICAgJ01lZGljYXRpb25SZXF1ZXN0IFJlc291cmNlJwogIGVsc2UgaWYgKHIgaXMgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdCkgdGhlbgogICAgJ0NvbW11bmljYXRpb25SZXF1ZXN0IFJlc291cmNlJwogIGVsc2UKICAgICdVbmtub3duUmVzb3VyY2VUeXBlJwoKZGVmaW5lIGZ1bmN0aW9uICJTZXJ2aWNlIFJlcXVlc3QgSXRlbSBDb2RlIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbiwgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdD4pOgogIGlmIChyZXF1ZXN0SXRlbSBpcyBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0KSB0aGVuIAogICAgRkhJUkhlbHBlcnMuVG9Db2RlKHNpbmdsZXRvbiBmcm9tIEdldENvZGVhYmxlQ29uY2VwdEZvckNvbW11bmljYXRpb25SZXF1ZXN0KHJlcXVlc3RJdGVtKS5jb2RpbmcpCiAgZWxzZSAKICAgIEZISVJIZWxwZXJzLlRvQ29kZShzaW5nbGV0b24gZnJvbSBHZXRDb2RlKHJlcXVlc3RJdGVtKS5jb2RpbmcpCgpkZWZpbmUgZnVuY3Rpb24gQ29tbXVuaWNhdGlvblBheWxvYWRWYWx1ZShjciBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0KToKICBpZiBleGlzdHMgKGNyLnBheWxvYWQgcCkgdGhlbgogICAgRmlyc3QoY3IucGF5bG9hZCBwIHdoZXJlIG5vdCBJc051bGwocC5jb250ZW50IGFzIEZISVIuc3RyaW5nKSkuY29udGVudCBhcyBGSElSLnN0cmluZwogIGVsc2UgbnVsbAogIC8vIGlmIGV4aXN0cyAoY3IucGF5bG9hZCBQIHdoZXJlIG5vdCBJc051bGwoUC5jb250ZW50U3RyaW5nKSkKICAvLyAgIHRoZW4gRmlyc3QoY3IucGF5bG9hZCBQIHdoZXJlIG5vdCBJc051bGwoUC5jb250ZW50U3RyaW5nKSkuY29udGVudCBhcyBGSElSLnN0cmluZwogIC8vIGVsc2UgaWYgZXhpc3RzIChjci5wYXlsb2FkIFAgd2hlcmUgbm90IElzTnVsbChQLmNvbnRlbnRSZWZlcmVuY2UpKQogIC8vICAgdGhlbiBGaXJzdChjci5wYXlsb2FkIFAgd2hlcmUgbm90IElzTnVsbChQLmNvbnRlbnRSZWZlcmVuY2UpKS5jb250ZW50IGFzIEZISVIuUmVmZXJlbmNlCiAgLy8gZWxzZSBpZiBleGlzdHMgKGNyLnBheWxvYWQgUCB3aGVyZSBub3QgSXNOdWxsKFAuY29udGVudEF0dGFjaG1lbnQpKQogIC8vICAgdGhlbiBGaXJzdChjci5wYXlsb2FkIFAgd2hlcmUgbm90IElzTnVsbChQLmNvbnRlbnRBdHRhY2htZW50KSkuY29udGVudCBhcyBGSElSLlJlZmVyZW5jZQogIC8vIGVsc2UgbnVsbAogIAoKZGVmaW5lIGZ1bmN0aW9uIEdldENvZGVhYmxlQ29uY2VwdEZvckNvbW11bmljYXRpb25SZXF1ZXN0KGNyIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3QpOgogIGlmIGV4aXN0cyAoY3IucGF5bG9hZCBwCiAgICB3aGVyZSAoUC5jb250ZW50IGFzIEZISVIuc3RyaW5nKSBpcyBub3QgbnVsbAogICAgICBvciAoUC5jb250ZW50IGFzIEZISVIuQXR0YWNobWVudCkgaXMgbm90IG51bGwKICAgICAgb3IgKFAuY29udGVudCBhcyBGSElSLlJlZmVyZW5jZSkgaXMgbm90IG51bGwKICAgIC8vIHdoZXJlIG5vdCBJc051bGwocC5jb250ZW50U3RyaW5nKQogICAgICAvLyBvciBub3QgSXNOdWxsKHAuY29udGVudEF0dGFjaG1lbnQpCiAgICAgIC8vIG9yIG5vdCBJc051bGwocC5jb250ZW50UmVmZXJlbmNlKQogICkgdGhlbgogICAgRkhJUi5Db2RlYWJsZUNvbmNlcHQgewogICAgICBjb2Rpbmc6IHsKICAgICAgICBGSElSLkNvZGluZyB7CiAgICAgICAgICBzeXN0ZW06IEZISVIudXJpIHsgdmFsdWU6ICdodHRwOi8vZXhhbXBsZS5vcmcvZmhpci9wYXlsb2FkLWNvbnRlbnQnIH0sCiAgICAgICAgICBjb2RlOiBGSElSLmNvZGUgeyB2YWx1ZTogQ29tbXVuaWNhdGlvblBheWxvYWRWYWx1ZShjcikgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgdGV4dDogRkhJUi5zdHJpbmcgeyB2YWx1ZTogQ29tbXVuaWNhdGlvblBheWxvYWRWYWx1ZShjcikgfQogICAgfQogIGVsc2UgbnVsbCBhcyBGSElSLkNvZGVhYmxlQ29uY2VwdAoKZGVmaW5lIGZ1bmN0aW9uIEdldENvZGUoaXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pCnJldHVybnMgRkhJUi5Db2RlYWJsZUNvbmNlcHQ6CiAgaWYgKGl0ZW0gaXMgRkhJUi5TZXJ2aWNlUmVxdWVzdCkgdGhlbgogICAgKGl0ZW0gYXMgRkhJUi5TZXJ2aWNlUmVxdWVzdCkuY29kZQogIGVsc2UgaWYgKGl0ZW0gaXMgRkhJUi5EZXZpY2VSZXF1ZXN0KSB0aGVuCiAgICBpZiAoaXRlbSBhcyBGSElSLkRldmljZVJlcXVlc3QpLmNvZGUgaXMgRkhJUi5Db2RlYWJsZUNvbmNlcHQgdGhlbgogICAgICAoaXRlbSBhcyBGSElSLkRldmljZVJlcXVlc3QpLmNvZGUgYXMgRkhJUi5Db2RlYWJsZUNvbmNlcHQKICAgIGVsc2UgaWYgKGl0ZW0gYXMgRkhJUi5EZXZpY2VSZXF1ZXN0KS5jb2RlIGlzIEZISVIuUmVmZXJlbmNlIHRoZW4KICAgICAgKFtEZXZpY2U6IGlkIH4gKChpdGVtIGFzIEZISVIuRGV2aWNlUmVxdWVzdCkuY29kZSBhcyBGSElSLlJlZmVyZW5jZSkucmVmZXJlbmNlXSkudHlwZQogICAgZWxzZSAKICAgICAgbnVsbCBhcyBGSElSLkNvZGVhYmxlQ29uY2VwdAogIGVsc2UgaWYgKGl0ZW0gaXMgRkhJUi5OdXRyaXRpb25PcmRlcikgdGhlbgogICAgKGl0ZW0gYXMgRkhJUi5OdXRyaXRpb25PcmRlcikuZW50ZXJhbEZvcm11bGEuYmFzZUZvcm11bGFUeXBlCiAgZWxzZSBudWxsIGFzIEZISVIuQ29kZWFibGVDb25jZXB0"
  } ]
}