{
  "resourceType": "Library",
  "id": "ASLPContext",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.6.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": true
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  } ],
  "url": "http://example.org/sdh/dtr/aslp/Library/ASLPContext",
  "version": "0.1.0",
  "name": "ASLPContext",
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBU0xQQ29udGV4dAoKdXNpbmcgRkhJUiB2ZXJzaW9uICc0LjAuMScKLy8gVE9ETzogdXBkYXRlIHRvIHVzZSBVU0NvcmUgZGlyZWN0bHkKLy91c2luZyBVU0NvcmUgdmVyc2lvbiAnMy4xLjEnCgppbmNsdWRlIFVTQ29yZUNvbW1vbgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMS4wMDAnCmluY2x1ZGUgQ3JkRXh0ZW5kZWRDb3ZlcmFnZUluZm8gY2FsbGVkIEVDSQppbmNsdWRlIEFTTFBDb250ZXh0UHJvdmlkZXIgY2FsbGVkIENvbnRleHRQcm92aWRlcgppbmNsdWRlIEFTTFBDb250ZXh0UGF5b3IgY2FsbGVkIENvbnRleHRQYXlvcgoKY29kZXN5c3RlbSAiUmVsYXRpb25zaGlwIFJvbGUiOiAnaHR0cDovL3Rlcm1pbm9sb2d5LmhsNy5vcmcvQ29kZVN5c3RlbS92My1Sb2xlQ29kZScKY29kZXN5c3RlbSAiUGF5b3IgSWRlbnRpZmllciBDb2RlU3lzdGVtIjogJ2h0dHA6Ly90ZXJtaW5vbG9neS5obDcub3JnL0NvZGVTeXN0ZW0vb3JnYW5pemF0aW9uLXR5cGUnCgpjb2RlICJQYXlvciBDb2RlIjogJ3BheScgZnJvbSAiUGF5b3IgSWRlbnRpZmllciBDb2RlU3lzdGVtIiBkaXNwbGF5ICdQYXlvcicKY29kZSAiUmVsYXRpb25zaGlwIFNlbGYgQ29kZSI6ICdPTkVTRUxGJyBmcm9tICJSZWxhdGlvbnNoaXAgUm9sZSIgZGlzcGxheSAnU2VsZicKCi8vIE51dHJpdGlvbk9yZGVyLCBTZXJ2aWNlUmVxdWVzdCwgRGV2aWNlUmVxdWVzdCwgTWVkaWNhdGlvblJlcXVlc3QsIFZpc2lvblByZXNjcmlwdGlvbiB3aXRoIC9kcmFmdC8gc3RhdHVzCnBhcmFtZXRlciAiZHJhZnRPcmRlcnMiIExpc3Q8Q2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24sIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3Q+PgoKcGFyYW1ldGVyICJSZXF1ZXN0IElkIiBTeXN0ZW0uU3RyaW5nCiAgLy8gTk9URTogZGVmYXVsdHMgc2hvdWxkIG5vdCBiZSB1c2VkIGluIHByb2R1Y3Rpb24KICAvL2RlZmF1bHQgJ2dlbmVyYXRlZC1pZC1kZWZhdWx0LXZhbHVlJwoKY29udGV4dCBQYXRpZW50CgpkZWZpbmUgIk5ld0xpbmUiOgogICdcclxuJwoKZGVmaW5lICJVbmtub3duUmVzb3VyY2VUeXBlIjoKICAnVW5rbm93blJlc291cmNlVHlwZScKCmRlZmluZSAiVW5zdXBwb3J0ZWRSZXNvdXJjZVR5cGVzIjoKICB7ICdWaXNpb25QcmVzY3JpcHRpb24nIH0KCmRlZmluZSAiUHJvdmlkZXIgQ292ZXJhZ2UiOgogIC8vIE5PVEU6IHBlciBQQSB0ZWFtLCB0aGUgQ292ZXJhZ2UgaXMganVzdCB0aGUgZmlyc3QgbWF0Y2hpbmcgY292ZXJhZ2UKICAvLyAgICAgICAtIGF0IHNvbWUgcG9pbnQgd2UgbWF5IHJldHVybiBhICJhbWJpZ3VvdXMgZGF0YSIgcmVzcG9uc2UgaWYgdGhlcmUgaXMgPiAxIENvdmVyYWdlCiAgRmlyc3QoCiAgICBbQ292ZXJhZ2VdIGl0ZW0gd2hlcmUgSXNQYXlvclJlc291cmNlKGl0ZW0pID0gZmFsc2UKICApCgpkZWZpbmUgZnVuY3Rpb24gIlNlcnZpY2UgUmVxdWVzdCBJdGVtIENvZGUiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0Pik6CiAgaWYgKHJlcXVlc3RJdGVtIGlzIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3QpIHRoZW4KICAgIGlmIGV4aXN0cyAoKHJlcXVlc3RJdGVtIGFzIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3QpLnBheWxvYWQgUAogICAgICB3aGVyZSBub3QgSXNOdWxsKFApCiAgICApIHRoZW4gbnVsbCBhcyBGSElSLkNvZGVhYmxlQ29uY2VwdAogICAgICAgIC8vIGlmIG5vdCBJc051bGwoUC5jb250ZW50IGFzIEZISVIuc3RyaW5nKSB0aGVuIAogICAgICAgIC8vICAgRkhJUkhlbHBlcnMuVG9Db2RlKAogICAgICAgIC8vICAgICAgIEZISVIuQ29kaW5nIHsKICAgICAgICAvLyAgICAgICAgIHN5c3RlbTogRkhJUi51cmkgeyB2YWx1ZTogJ2h0dHA6Ly9leGFtcGxlLm9yZy9maGlyL3BheWxvYWQtc3RyaW5nJyB9LAogICAgICAgIC8vICAgICAgICAgY29kZTogRkhJUi5jb2RlIHsgdmFsdWU6IChQLmNvbnRlbnQgYXMgRkhJUi5zdHJpbmcpIH0KICAgICAgICAvLyAgICAgICB9CiAgICAgICAgLy8gICApCiAgICAgICAgLy8gZWxzZSBpZiBub3QgSXNOdWxsKFAuY29udGVudCBhcyBGSElSLkF0dGFjaG1lbnQpIHRoZW4gCiAgICAgICAgLy8gICBGSElSSGVscGVycy5Ub0NvZGUoCiAgICAgICAgLy8gICAgICAgRkhJUi5Db2RpbmcgewogICAgICAgIC8vICAgICAgICAgc3lzdGVtOiBGSElSLnVyaSB7IHZhbHVlOiAnaHR0cDovL2V4YW1wbGUub3JnL2ZoaXIvcGF5bG9hZC1hdHRhY2htZW50JyB9LAogICAgICAgIC8vICAgICAgICAgY29kZTogRkhJUi5jb2RlIHsgdmFsdWU6IChQLmNvbnRlbnQgYXMgRkhJUi5BdHRhY2htZW50KSB9CiAgICAgICAgLy8gICAgICAgfQogICAgICAgIC8vICAgKQogICAgICAgIC8vIGVsc2UgaWYgbm90IElzTnVsbChQLmNvbnRlbnQgYXMgRkhJUi5SZWZlcmVuY2UpIHRoZW4gCiAgICAgICAgLy8gICBGSElSSGVscGVycy5Ub0NvZGUoCiAgICAgICAgLy8gICAgICAgRkhJUi5Db2RpbmcgewogICAgICAgIC8vICAgICAgICAgc3lzdGVtOiBGSElSLnVyaSB7IHZhbHVlOiAnaHR0cDovL2V4YW1wbGUub3JnL2ZoaXIvcGF5bG9hZC1yZWZlcmVuY2UnIH0sCiAgICAgICAgLy8gICAgICAgICBjb2RlOiBGSElSLmNvZGUgeyB2YWx1ZTogKFAuY29udGVudCBhcyBGSElSLlJlZmVyZW5jZSkgfQogICAgICAgIC8vICAgICAgIH0KICAgICAgICAvLyAgICkKICAgICAgICAvLyBlbHNlIG51bGwgYXMgRkhJUi5Db2RlYWJsZUNvbmNlcHQKICAgIGVsc2UgbnVsbCAKICBlbHNlIAogICAgRkhJUkhlbHBlcnMuVG9Db2RlKHNpbmdsZXRvbiBmcm9tIEdldENvZGUocmVxdWVzdEl0ZW0pLmNvZGluZykKCmRlZmluZSBmdW5jdGlvbiAiU2VydmljZSBSZXF1ZXN0IEl0ZW0gSUQiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0Pik6CiAgR2V0UmVzb3VyY2VUeXBlKHJlcXVlc3RJdGVtKSArICcvJyArIHJlcXVlc3RJdGVtLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIkdldFJlc291cmNlVHlwZSIocmVzb3VyY2UgQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24sIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3Q+KQpyZXR1cm5zIFN5c3RlbS5TdHJpbmc6CiAgaWYgKHJlc291cmNlIGlzIEZISVIuU2VydmljZVJlcXVlc3QpIHRoZW4KICAgICdTZXJ2aWNlUmVxdWVzdCcKICBlbHNlIGlmIChyZXNvdXJjZSBpcyBGSElSLk51dHJpdGlvbk9yZGVyKSB0aGVuCiAgICAnTnV0cml0aW9uT3JkZXInCiAgZWxzZSBpZiAocmVzb3VyY2UgaXMgRkhJUi5EZXZpY2VSZXF1ZXN0KSB0aGVuCiAgICAnRGV2aWNlUmVxdWVzdCcKICBlbHNlIGlmIChyZXNvdXJjZSBpcyBGSElSLlZpc2lvblByZXNjcmlwdGlvbikgdGhlbgogICAgJ1Zpc2lvblByZXNjcmlwdGlvbicKICBlbHNlIGlmIChyZXNvdXJjZSBpcyBGSElSLk1lZGljYXRpb25SZXF1ZXN0KSB0aGVuCiAgICAnTWVkaWNhdGlvblJlcXVlc3QnCiAgZWxzZSBpZiAocmVzb3VyY2UgaXMgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdCkgdGhlbgogICAgJ0NvbW11bmljYXRpb25SZXF1ZXN0JwogIGVsc2UKICAgICJVbmtub3duUmVzb3VyY2VUeXBlIgoKZGVmaW5lIGZ1bmN0aW9uICJTeXN0ZW0gR2VuZXJhdGVkIElkIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbiwgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdD4pOgogIENvYWxlc2NlKAogICAgKEZpcnN0KAogICAgICByZXF1ZXN0SXRlbS5leHRlbnNpb24gRQogICAgICAgIHdoZXJlIEUudXJsID0gJ2h0dHBzOi8vc21pbGVkaWdpdGFsaGVhbHRoLmNvbS9wcmlvcmF1dGgvc21pbGUtY3JkLWFzc2VydGlvbi1pZCcKICAgICAgICByZXR1cm4gRQogICAgKSkudmFsdWUgYXMgRkhJUi5zdHJpbmcsCiAgICAiUmVxdWVzdCBJZCIKICApCgpkZWZpbmUgZnVuY3Rpb24gRXh0ZW5zaW9uUHJpb3JBdXRoTmVlZGVkKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0PiwgY292ZXJlZCBTeXN0ZW0uU3RyaW5nLCBwcmlvckF1dGhSZXF1aXJlZCBTeXN0ZW0uU3RyaW5nLCBjb2RlVmFsdWUgU3lzdGVtLlN0cmluZywgZGV0YWlsVGV4dCBTeXN0ZW0uU3RyaW5nLCBxdWFsaWZpY2F0aW9uIFN5c3RlbS5TdHJpbmcsIHdhcm5pbmdPckluZm8gU3lzdGVtLlN0cmluZykKcmV0dXJucyBGSElSLkV4dGVuc2lvbjoKICBFQ0kuRXh0ZW5zaW9uUHJpb3JBdXRoTmVlZGVkKENvbnRleHRQcm92aWRlci4iUHJvdmlkZXIgQ292ZXJhZ2UiLmlkLnZhbHVlLCBjb3ZlcmVkLCBwcmlvckF1dGhSZXF1aXJlZCwgIlN5c3RlbSBHZW5lcmF0ZWQgSWQiKHJlcXVlc3RJdGVtKSwgIlNlcnZpY2UgUmVxdWVzdCBJdGVtIElEIihyZXF1ZXN0SXRlbSksICJTZXJ2aWNlIFJlcXVlc3QgSXRlbSBDb2RlIihyZXF1ZXN0SXRlbSksIGNvZGVWYWx1ZSwgZGV0YWlsVGV4dCwgcXVhbGlmaWNhdGlvbiwgd2FybmluZ09ySW5mbykKCmRlZmluZSBmdW5jdGlvbiBUYWdFeGlzdHMocmVzb3VyY2UgUmVzb3VyY2UsIHZhbHVlIFN5c3RlbS5Db2RlKToKLy8gcmV0dXJucyBTeXN0ZW0uQm9vbGVhbjoKICBpZiAoZXhpc3RzKHJlc291cmNlLm1ldGEudGFnLnN5c3RlbSkpIHRoZW4KICAgIEFueVRydWUoCiAgICAgIHJlc291cmNlLm1ldGEudGFnIFRhZwogICAgICAgIHJldHVybiAKICAgICAgICAgIGlmIFRhZy5zeXN0ZW0udmFsdWUgfiB2YWx1ZS5zeXN0ZW0gYW5kIFRhZy5jb2RlLnZhbHVlIH4gdmFsdWUuY29kZSB0aGVuIAogICAgICAgICAgICB0cnVlIAogICAgICAgICAgZWxzZSAKICAgICAgICAgICAgZmFsc2UKICAgICkKICBlbHNlIGZhbHNlCiAgCmRlZmluZSBmdW5jdGlvbiBJc1BheW9yUmVzb3VyY2UocmVzb3VyY2UgUmVzb3VyY2UpOgovLyByZXR1cm5zIFN5c3RlbS5Cb29sZWFuOgogIFRhZ0V4aXN0cyhyZXNvdXJjZSwgIlBheW9yIENvZGUiKQoKZGVmaW5lIGZ1bmN0aW9uIEdldElkZW50aWZpZXIoaXRlbSBDaG9pY2U8UHJhY3RpdGlvbmVyLCBPcmdhbml6YXRpb24+LCB1cmwgU3lzdGVtLlN0cmluZykKcmV0dXJucyBTeXN0ZW0uU3RyaW5nOgogIHNpbmdsZXRvbiBmcm9tCiAgKAogICAgaXRlbS5pZGVudGlmaWVyIEkKICAgICAgd2hlcmUgSS5zeXN0ZW0udmFsdWUgfiB1cmwKICAgICAgcmV0dXJuIEkudmFsdWUudmFsdWUKICApCgpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIG5waShpdGVtcyBMaXN0PENob2ljZTxQcmFjdGl0aW9uZXIsIE9yZ2FuaXphdGlvbj4+KQpyZXR1cm5zIExpc3Q8U3lzdGVtLlN0cmluZz46CiAgaXRlbXMgSQogICAgcmV0dXJuIEdldElkZW50aWZpZXIoSSwgJ2h0dHA6Ly9obDcub3JnL2ZoaXIvc2lkL3VzLW5waScpCgpkZWZpbmUgZmx1ZW50IGZ1bmN0aW9uIGdldE5waShpdGVtIENob2ljZTxQcmFjdGl0aW9uZXIsIE9yZ2FuaXphdGlvbj4pCnJldHVybnMgU3lzdGVtLlN0cmluZzoKICBHZXRJZGVudGlmaWVyKGl0ZW0sICdodHRwOi8vaGw3Lm9yZy9maGlyL3NpZC91cy1ucGknKQoKLy8gT3B0aW9uIDEgKG5vdCBmZWFzaWJsZSBzaG9ydC10ZXJtKTogVXNlIHJlbGF0ZWQgY29udGV4dCByZXRyaWV2ZQovLyBnaXZlIG1lIHRoZSBwYXRpZW50IHRoYXQgaXMgdGhlIGJlbmVmaWNpYXJ5IG9mIHRoaXMgY292ZXJhZ2UKLy8gZXZlbiB0aGVuIHlvdSdkIHN0aWxsIGhhdmUgdG8gZ2V0IHRvIHRoZSBjb3ZlcmFnZQoKLy8gT3B0aW9uIDIgKHNob3J0LXRlcm0pOiBDb25zaWRlciBwYXlvci9wcm92aWRlciBhcyBzaW5nbGUgc291cmNlIAovLyBVc2UgYSBtZXRhLnRhZyBhcHByb2FjaCB0byBkaXN0aW5ndWlzaCBwYXlvci9wcm92aWRlcgovLyAxKSBOZWVkIHRvIHJlLW1hcCBhbGwgcmVmZXJlbmNlcyBmcm9tIFBheW9yIFBhdGllbnQgaWQgdG8gUHJvdmlkZXIgUGF0aWVudCBpZCAoT2JzZXJ2YXRpb24sIENvbmRpdGlvbiwgZXRjLCBldGMpCi8vIElERUEgMToKLy8gUmVsYXRlZFBlcnNvbiByZXNvdXJjZSB0byByZXByZXNlbnQgdGhlIFBheWVyIFBhdGllbnQKLy8gUGF5b3IgQ292ZXJhZ2UgcmVzb3VyY2UgcmVtYXBwZWQgdG8gcmVmZXJlbmNlIHRoZSBQcm92aWRlciBQYXRpZW50IChqdXN0IGxpa2UgYWxsIG90aGVyIHJlc291cmNlczogT2JzZXJ2YXRpb24sIENvbmRpdGlvbiwgZXRjKQoKLy8gSURFQSAyOiBkb3duc2lkZSB0byB0aGlzIGlzIHRoYXQgcGF0aWVudC9jb3ZlcmFnZSBtYXRjaGluZyBoZXVyaXN0aWMgd29uJ3Qgd29yayBpbiBDUUwKLy8gU2luZ2xlIHNvdXJjZSBleHBlY3RzIGEgbWVyZ2VkIHBhdGllbnQgZm9yIHBheW9yL3Byb3ZpZGVyCi8vIEFsc28gZXhwZWN0cyBhIG1lcmdlZCBDb3ZlcmFnZSBhcyB3ZWxsLCBzaW5jZSBDb3ZlcmFnZS5iZW5lZmljaWFyeSBpcyAxLi4xIFBhdGllbnQgcmVmZXJlbmNlCgovLyBuZWVkIGEgYXJjaGl0ZWN0dXJlIGRlc2lnbiBxdWVzdGlvbiBvbiBob3cgdG8gc29sdmUgbG9uZ2VyIHRlcm0KCmRlZmluZSBmdW5jdGlvbiBHZXRDb2RlKGl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KQpyZXR1cm5zIEZISVIuQ29kZWFibGVDb25jZXB0OgogIGlmIChpdGVtIGlzIEZISVIuU2VydmljZVJlcXVlc3QpIHRoZW4KICAgIChpdGVtIGFzIEZISVIuU2VydmljZVJlcXVlc3QpLmNvZGUKICBlbHNlIGlmIChpdGVtIGlzIEZISVIuRGV2aWNlUmVxdWVzdCkgdGhlbgogICAgaWYgKGl0ZW0gYXMgRkhJUi5EZXZpY2VSZXF1ZXN0KS5jb2RlIGlzIEZISVIuQ29kZWFibGVDb25jZXB0IHRoZW4KICAgICAgKGl0ZW0gYXMgRkhJUi5EZXZpY2VSZXF1ZXN0KS5jb2RlIGFzIEZISVIuQ29kZWFibGVDb25jZXB0CiAgICBlbHNlIGlmIChpdGVtIGFzIEZISVIuRGV2aWNlUmVxdWVzdCkuY29kZSBpcyBGSElSLlJlZmVyZW5jZSB0aGVuCiAgICAgIChbRGV2aWNlOiBpZCB+ICgoaXRlbSBhcyBGSElSLkRldmljZVJlcXVlc3QpLmNvZGUgYXMgRkhJUi5SZWZlcmVuY2UpLnJlZmVyZW5jZV0pLnR5cGUKICAgIGVsc2UgCiAgICAgIG51bGwgYXMgRkhJUi5Db2RlYWJsZUNvbmNlcHQKICBlbHNlIGlmIChpdGVtIGlzIEZISVIuTnV0cml0aW9uT3JkZXIpIHRoZW4KICAgIChpdGVtIGFzIEZISVIuTnV0cml0aW9uT3JkZXIpLmVudGVyYWxGb3JtdWxhLmJhc2VGb3JtdWxhVHlwZQogIGVsc2UgbnVsbCBhcyBGSElSLkNvZGVhYmxlQ29uY2VwdAoKZGVmaW5lIGZ1bmN0aW9uIEdldFJlcXVlc3RlcihpdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0PikKcmV0dXJucyBMaXN0PEZISVIuUmVmZXJlbmNlPjoKICBpZiAoaXRlbSBpcyBGSElSLlNlcnZpY2VSZXF1ZXN0KSB0aGVuCiAgICAoeyAoaXRlbSBhcyBGSElSLlNlcnZpY2VSZXF1ZXN0KS5yZXF1ZXN0ZXIgfSkgYXMgTGlzdDxGSElSLlJlZmVyZW5jZT4KICBlbHNlIGlmIChpdGVtIGlzIEZISVIuRGV2aWNlUmVxdWVzdCkgdGhlbgogICAgKHsgKGl0ZW0gYXMgRkhJUi5EZXZpY2VSZXF1ZXN0KS5yZXF1ZXN0ZXIgfSkgYXMgTGlzdDxGSElSLlJlZmVyZW5jZT4KICBlbHNlIGlmIChpdGVtIGlzIEZISVIuTnV0cml0aW9uT3JkZXIpIHRoZW4KICAgICh7IChpdGVtIGFzIEZISVIuTnV0cml0aW9uT3JkZXIpLm9yZGVyZXIgfSkgYXMgTGlzdDxGSElSLlJlZmVyZW5jZT4KICBlbHNlIGlmIChpdGVtIGlzIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3QpIHRoZW4KICAgICh7IChpdGVtIGFzIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3QpLnJlcXVlc3RlciB9KSBhcyBMaXN0PEZISVIuUmVmZXJlbmNlPgogIGVsc2UgbnVsbCBhcyBMaXN0PEZISVIuUmVmZXJlbmNlPgoKZGVmaW5lIGZ1bmN0aW9uIEdldFBlcmZvcm1lcihpdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0PikKcmV0dXJucyBMaXN0PEZISVIuUmVmZXJlbmNlPjoKICBpZiAoaXRlbSBpcyBGSElSLlNlcnZpY2VSZXF1ZXN0KSB0aGVuCiAgICAoKGl0ZW0gYXMgRkhJUi5TZXJ2aWNlUmVxdWVzdCkucGVyZm9ybWVyKSBhcyBMaXN0PEZISVIuUmVmZXJlbmNlPgogIGVsc2UgaWYgKGl0ZW0gaXMgRkhJUi5EZXZpY2VSZXF1ZXN0KSB0aGVuCiAgICBpZiAoSXNOdWxsKChpdGVtIGFzIEZISVIuRGV2aWNlUmVxdWVzdCkucGVyZm9ybWVyKSkgdGhlbiBudWxsIGFzIExpc3Q8RkhJUi5SZWZlcmVuY2U+CiAgICBlbHNlICh7IChpdGVtIGFzIEZISVIuRGV2aWNlUmVxdWVzdCkucGVyZm9ybWVyIH0pIGFzIExpc3Q8RkhJUi5SZWZlcmVuY2U+CiAgZWxzZSBpZiAoaXRlbSBpcyBGSElSLk51dHJpdGlvbk9yZGVyKSB0aGVuCiAgICBpZiAoSXNOdWxsKChpdGVtIGFzIEZISVIuTnV0cml0aW9uT3JkZXIpLm9yZGVyZXIpKSB0aGVuIG51bGwgYXMgTGlzdDxGSElSLlJlZmVyZW5jZT4KICAgIGVsc2UgKHsgKGl0ZW0gYXMgRkhJUi5OdXRyaXRpb25PcmRlcikub3JkZXJlciB9KSBhcyBMaXN0PEZISVIuUmVmZXJlbmNlPgogIGVsc2UgaWYgKGl0ZW0gaXMgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdCkgdGhlbiAKICAgIGlmIChJc051bGwoKGl0ZW0gYXMgRkhJUi5Db21tdW5pY2F0aW9uUmVxdWVzdCkuc2VuZGVyKSkgdGhlbiBudWxsIGFzIExpc3Q8RkhJUi5SZWZlcmVuY2U+CiAgICBlbHNlICh7IChpdGVtIGFzIEZISVIuQ29tbXVuaWNhdGlvblJlcXVlc3QpLnNlbmRlciB9KSBhcyBMaXN0PEZISVIuUmVmZXJlbmNlPgogIGVsc2UgbnVsbCBhcyBMaXN0PEZISVIuUmVmZXJlbmNlPgoKZGVmaW5lIGZ1bmN0aW9uIEdldFN1YmplY3RJRChpdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uLCBGSElSLkNvbW11bmljYXRpb25SZXF1ZXN0PikKcmV0dXJucyBTeXN0ZW0uU3RyaW5nOgogIGlmIChpdGVtIGlzIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uIG9yIGl0ZW0gaXMgRkhJUi5OdXRyaXRpb25PcmRlcikgdGhlbgogICAgaXRlbS5wYXRpZW50LnJlZmVyZW5jZS5nZXRJZCgpCiAgZWxzZSBpdGVtLnN1YmplY3QucmVmZXJlbmNlLmdldElkKCkKCmRlZmluZSAiU2VydmljZSBSZXF1ZXN0IEl0ZW0gTGlzdCI6CiAgImRyYWZ0T3JkZXJzIgogIC8vIE5PVEU6IHRoZXNlIHJldHJpZXZlcyBhcmUgb25seSBmb3IgbG9jYWwgdGVzdGluZwogIC8vKFtTZXJ2aWNlUmVxdWVzdF0pIHVuaW9uIChbRGV2aWNlUmVxdWVzdF0pIHVuaW9uIChbTnV0cml0aW9uT3JkZXJdKQoKZGVmaW5lICJQYXlvciI6CiAgQ29udGV4dFBheW9yLiJQYXlvciIKCmRlZmluZSAiUHJvdmlkZXIiOgogIENvbnRleHRQcm92aWRlci4iUHJvdmlkZXIi"
  } ]
}