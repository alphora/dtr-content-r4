{
  "resourceType": "Library",
  "id": "ASLPCrdProviderNpiMatchLogic",
  "contained": [ {
    "resourceType": "Parameters",
    "id": "options",
    "parameter": [ {
      "name": "translatorVersion",
      "valueString": "3.6.0"
    }, {
      "name": "option",
      "valueString": "EnableAnnotations"
    }, {
      "name": "option",
      "valueString": "EnableLocators"
    }, {
      "name": "option",
      "valueString": "EnableResultTypes"
    }, {
      "name": "option",
      "valueString": "DisableListDemotion"
    }, {
      "name": "option",
      "valueString": "DisableListPromotion"
    }, {
      "name": "format",
      "valueString": "JSON"
    }, {
      "name": "format",
      "valueString": "XML"
    }, {
      "name": "analyzeDataRequirements",
      "valueBoolean": false
    }, {
      "name": "collapseDataRequirements",
      "valueBoolean": true
    }, {
      "name": "compatibilityLevel",
      "valueString": "1.5"
    }, {
      "name": "enableCqlOnly",
      "valueBoolean": false
    }, {
      "name": "errorLevel",
      "valueString": "Info"
    }, {
      "name": "signatureLevel",
      "valueString": "All"
    }, {
      "name": "validateUnits",
      "valueBoolean": true
    }, {
      "name": "verifyOnly",
      "valueBoolean": false
    } ]
  } ],
  "extension": [ {
    "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
    "valueReference": {
      "reference": "Device/cqf-tooling"
    }
  }, {
    "url": "http://hl7.org/fhir/StructureDefinition/cqf-cqlOptions",
    "valueReference": {
      "reference": "#options"
    }
  } ],
  "url": "http://example.org/sdh/dtr/aslp/Library/ASLPCrdProviderNpiMatchLogic",
  "version": "0.1.0",
  "name": "ASLPCrdProviderNpiMatchLogic",
  "type": {
    "coding": [ {
      "system": "http://terminology.hl7.org/CodeSystem/library-type",
      "code": "logic-library"
    } ]
  },
  "content": [ {
    "contentType": "text/cql",
    "data": "bGlicmFyeSBBU0xQQ3JkUHJvdmlkZXJOcGlNYXRjaExvZ2ljCgp1c2luZyBGSElSIHZlcnNpb24gJzQuMC4xJwovLyBUT0RPOiB1cGRhdGUgdG8gdXNlIFVTQ29yZSBkaXJlY3RseQovL3VzaW5nIFVTQ29yZSB2ZXJzaW9uICczLjEuMScKCmluY2x1ZGUgQVNMUENvbnRleHQgY2FsbGVkIEN0eAppbmNsdWRlIFVTQ29yZUNvbW1vbgppbmNsdWRlIEZISVJIZWxwZXJzIHZlcnNpb24gJzQuMS4wMDAnCiAKY29udGV4dCBQYXRpZW50CgovLyBDUkQtMy4xCmRlZmluZSAiVGl0bGUiOgogICdQcmlvciBBdXRoIEV2YWx1YXRpb24nCgovLyBDUkQtMy4xCmRlZmluZSAiRGVzY3JpcHRpb24iOgogICdJbmZvcm1hdGlvbiByZWxhdGVkIHRvIHdoZXRoZXIgYSBzZXJ2aWNlIGlzIGNvdmVyZWQsIG5vdCBjb3ZlcmVkIG9yIHJlcXVpcmVzIHByaW9yIGF1dGggc3VibWlzc2lvbicKCi8vIENSRC0zLjEKZGVmaW5lICJRdWFsaWZpY2F0aW9uIjoKICAnUHJvdmlkZXIgaXMgbm90IGluIHRoZSBuZXR3b3JrLiBZb3UgY2FuIHN1Ym1pdCBhIFBBIHJlcXVlc3QgYXMgYW4gZXhjZXB0aW9uLicKCi8vIENSRC0zLjEKZGVmaW5lIGZ1bmN0aW9uICJEZXRhaWwgRGVidWdnaW5nIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogICciSXMgTE9CTWF0Y2giPScgKyBUb1N0cmluZygiSXMgTE9CTWF0Y2giKHJlcXVlc3RJdGVtKSkgICsgQ3R4Lk5ld0xpbmUgKwogICcgIC0gIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9uIE1hdGNoIj0nICsgVG9TdHJpbmcoIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9uIE1hdGNoIihyZXF1ZXN0SXRlbSkpICArIEN0eC5OZXdMaW5lICsKICAnICAtICJQZXJmb3JtaW5nIE9yZ2FuaXphdGlvbiBNYXRjaCI9JyArIFRvU3RyaW5nKCJQZXJmb3JtaW5nIE9yZ2FuaXphdGlvbiBNYXRjaCIocmVxdWVzdEl0ZW0pKSAgKyBDdHguTmV3TGluZSArCiAgQ3R4Lk5ld0xpbmUgKwogICciSXMgUHJvdmlkZXJOcGlNYXRjaCI9JyArIEN0eC5OZXdMaW5lICsgVG9TdHJpbmcoIklzIFByb3ZpZGVyTnBpTWF0Y2giKHJlcXVlc3RJdGVtKSkgICsgQ3R4Lk5ld0xpbmUgKwogICcgIC0gIlJlcXVlc3RpbmcgUHJvdmlkZXIgTWF0Y2giPScgKyBDdHguTmV3TGluZSArIFRvU3RyaW5nKCJSZXF1ZXN0aW5nIFByb3ZpZGVyIE1hdGNoIihyZXF1ZXN0SXRlbSkpICArIEN0eC5OZXdMaW5lICsKICAnICAgIC0gIkFsbCBSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgRm91bmQiKHJlcXVlc3RJdGVtKT0nICsgQ3R4Lk5ld0xpbmUgKyBUb1N0cmluZygiQWxsIFJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBGb3VuZCIocmVxdWVzdEl0ZW0pKSAgKyBDdHguTmV3TGluZSArCiAgJyAgICAtICJSZXF1ZXN0aW5nIFByYWN0aXRpb25lclJvbGVzIGZyb20gU2VydmljZVJlcXVlc3QgT3V0cHV0IihyZXF1ZXN0SXRlbSk9JyArIEN0eC5OZXdMaW5lICsgQ29tYmluZSgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJSb2xlcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IE91dHB1dCIocmVxdWVzdEl0ZW0pLCAnLCcpICArIEN0eC5OZXdMaW5lICsKICAnICAgIC0gKCJSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgZnJvbSBQcm92aWRlciIocmVxdWVzdEl0ZW0pKS5ucGkoKT0nICsgQ3R4Lk5ld0xpbmUgKyBDb21iaW5lKCgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKSkubnBpKCksICcsJykgICsgQ3R4Lk5ld0xpbmUgKwogICcgICAgLSAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFBheW9yIihyZXF1ZXN0SXRlbSkpLm5waSgpPScgKyBDdHguTmV3TGluZSArIENvbWJpbmUoKCJSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgZnJvbSBQYXlvciIocmVxdWVzdEl0ZW0pKS5ucGkoKSwgJywnKSAgKyBDdHguTmV3TGluZSArCiAgJyAgICAtICJQZXJmb3JtaW5nIFByYWN0aXRpb25lciBJRHMgZnJvbSBTZXJ2aWNlUmVxdWVzdCIocmVxdWVzdEl0ZW0pPScgKyBDdHguTmV3TGluZSArIENvbWJpbmUoIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVyIElEcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IihyZXF1ZXN0SXRlbSksICcsJykgICsgQ3R4Lk5ld0xpbmUgKwogICcgICAgLSAiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKT0nICsgQ3R4Lk5ld0xpbmUgKyBDb21iaW5lKCgoIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByb3ZpZGVyIihyZXF1ZXN0SXRlbSkpIFByYWN0aXRpb25lciByZXR1cm4gUHJhY3RpdGlvbmVyLmlkLnZhbHVlKSwgJywnKSAgKyBDdHguTmV3TGluZSArCiAgJyAgICAtICJSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgZnJvbSBQcm92aWRlciBOUEkgaW5jbHVkZWQgaW4gUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUGF5b3IgTlBJIj0nICsgQ3R4Lk5ld0xpbmUgKyBUb1N0cmluZygiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIgTlBJIGluY2x1ZGVkIGluIFJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFBheW9yIE5QSSIocmVxdWVzdEl0ZW0pKSAgKyBDdHguTmV3TGluZSArCiAgJyAgLSAiUGVyZm9ybWluZyBQcm92aWRlciBNYXRjaCI9JyArIEN0eC5OZXdMaW5lICsgVG9TdHJpbmcoIlBlcmZvcm1pbmcgUHJvdmlkZXIgTWF0Y2giKHJlcXVlc3RJdGVtKSkgICsgQ3R4Lk5ld0xpbmUKCmRlZmluZSBmdW5jdGlvbiAiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJSb2xlcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IE91dHB1dCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVyUm9sZXMgZnJvbSBTZXJ2aWNlUmVxdWVzdCIocmVxdWVzdEl0ZW0pKSBSZXF1ZXN0ZXJQcmFjdGl0aW9uZXJSb2xlCiAgICByZXR1cm4gUmVxdWVzdGVyUHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIucmVmZXJlbmNlLmdldElkKCkKCmRlZmluZSBmdW5jdGlvbiAiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIgTlBJIGluY2x1ZGVkIGluIFJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFBheW9yIE5QSSIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByb3ZpZGVyIihyZXF1ZXN0SXRlbSkpLm5waSgpIC8vIFgKICAgIGluY2x1ZGVkIGluICgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUGF5b3IiKHJlcXVlc3RJdGVtKSkubnBpKCkgLy8gWQoKLy8gQ1JELTMuMQpkZWZpbmUgIkRldGFpbCBUZXh0IjoKICAnUHJvdmlkZXIgTm90IGluIE5ldHdvcmsnCgovLyBDUkQtMy4xCmRlZmluZSBmdW5jdGlvbiAiQ292ZXJhZ2VFeHRlbnNpb24iKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgQ3R4LiJFeHRlbnNpb25QcmlvckF1dGhOZWVkZWQiKHJlcXVlc3RJdGVtLCAnY29uZGl0aW9uYWwnLCAnYXV0aC1uZWVkZWQnLCAnYXV0aC1uZWVkZWQnLCAiRGV0YWlsIFRleHQiLCAiUXVhbGlmaWNhdGlvbiIsICdXYXJuaW5nJykKCmRlZmluZSBmdW5jdGlvbiAiSXMgTE9CTWF0Y2giKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9uIE1hdGNoIihyZXF1ZXN0SXRlbSkKICAgIGFuZCAiUGVyZm9ybWluZyBPcmdhbml6YXRpb24gTWF0Y2giKHJlcXVlc3RJdGVtKQoKZGVmaW5lIGZ1bmN0aW9uICJOb3QgTE9CTWF0Y2giKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgbm90ICgiSXMgTE9CTWF0Y2giKHJlcXVlc3RJdGVtKSkKCmRlZmluZSBmdW5jdGlvbiAiSXMgUHJvdmlkZXJOcGlNYXRjaCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICAvLyAxLiBUaGUgcmVxdWVzdGluZyBwcm92aWRlciBtdXN0IGJlIGluIHRoZSBwYXllciBzeXN0ZW0uCiAgLy8gMi4gQU5EIEFsbCBwZXJmb3JtaW5nIHByb3ZpZGVycyBmcm9tIHRoZSBwcm92aWRlcidzIHN5c3RlbSBtdXN0IG1hdGNoIGEgcGVyZm9ybWluZyBwcm92aWRlciBmcm9tIHRoZSBwYXllcidzIHN5c3RlbS4gCiAgLy8gICAgTk9URTogVGhpcyBzdGVwIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyBwZXJmb3JtaW5nIHByb3ZpZGVycy4gCiAgIlJlcXVlc3RpbmcgUHJvdmlkZXIgTWF0Y2giKHJlcXVlc3RJdGVtKQogICAgYW5kICJQZXJmb3JtaW5nIFByb3ZpZGVyIE1hdGNoIihyZXF1ZXN0SXRlbSkKCmRlZmluZSBmdW5jdGlvbiAiUmVxdWVzdGluZyBQcm92aWRlciBNYXRjaCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBpZiAobm90ICJBbGwgUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIEZvdW5kIihyZXF1ZXN0SXRlbSkpIHRoZW4gCiAgICBmYWxzZSAKICBlbHNlCiAgICAvLyAnaW5jbHVkZWQgaW4nOiBSZXR1cm5zIHRydWUgaWYgZXZlcnkgZWxlbWVudCBpbiBsaXN0IFggaXMgYWxzbyBpbiBsaXN0IFksIHVzaW5nIGVxdWFsaXR5IHNlbWFudGljcwogICAgKAogICAgICAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByb3ZpZGVyIihyZXF1ZXN0SXRlbSkpLm5waSgpIC8vIFgKICAgICAgICBpbmNsdWRlZCBpbiAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFBheW9yIihyZXF1ZXN0SXRlbSkpLm5waSgpIC8vIFkKICAgICkgYW5kIGV4aXN0cygiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKSkgLy8gTk9URTogVGhpcyBzdGVwIGNhbm5vdCBiZSBza2lwcGVkIGlmIHRoZXJlIGlzIG5vIHJlcXVlc3RlciBwcm92aWRlci4KCmRlZmluZSBmdW5jdGlvbiAiUGVyZm9ybWluZyBQcm92aWRlciBNYXRjaCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBpZiAobm90ICJBbGwgUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIEZvdW5kIihyZXF1ZXN0SXRlbSkpIHRoZW4gCiAgICBmYWxzZSAKICBlbHNlCiAgICAvLyAnaW5jbHVkZWQgaW4nOiBSZXR1cm5zIHRydWUgaWYgZXZlcnkgZWxlbWVudCBpbiBsaXN0IFggaXMgYWxzbyBpbiBsaXN0IFksIHVzaW5nIGVxdWFsaXR5IHNlbWFudGljcwogICAgKAogICAgICAoIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByb3ZpZGVyIihyZXF1ZXN0SXRlbSkpLm5waSgpIC8vIFgKICAgICAgICBpbmNsdWRlZCBpbiAoIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVycyBmcm9tIFBheW9yIihyZXF1ZXN0SXRlbSkpLm5waSgpIC8vIFkKICAgICkgb3Igbm90IGV4aXN0cygiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKSkgLy8gTk9URTogVGhpcyBzdGVwIGNhbiBiZSBza2lwcGVkIGlmIHRoZXJlIGFyZSBubyBwZXJmb3JtaW5nIHByb3ZpZGVycy4gCgpkZWZpbmUgZnVuY3Rpb24gIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9uIE1hdGNoIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIGV4aXN0cygoIk1hdGNoaW5nIFJlcXVlc3RpbmcgT3JnYW5pemF0aW9ucyBieSBOYW1lICYgVHlwZSBvciBOUEkiKHJlcXVlc3RJdGVtKSkpCgpkZWZpbmUgZnVuY3Rpb24gIlBlcmZvcm1pbmcgT3JnYW5pemF0aW9uIE1hdGNoIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIGV4aXN0cygoIk1hdGNoaW5nIFBlcmZvcm1pbmcgT3JnYW5pemF0aW9ucyBieSBOYW1lICYgVHlwZSBvciBOUEkiKHJlcXVlc3RJdGVtKSkpCiAgICBvciBub3QgZXhpc3RzKCgiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKSkpCgpkZWZpbmUgZnVuY3Rpb24gIk5vdCBQcm92aWRlck5waU1hdGNoIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIG5vdCAoIklzIFByb3ZpZGVyTnBpTWF0Y2giKHJlcXVlc3RJdGVtKSkKCi8vIFRPRE86IE5lZWQgdG8gaW52ZXN0aWdhdGUgaG93IHRvIGhhbmRsZSBhIFNlcnZpY2VSZXF1ZXN0LnJlcXVlc3RlciBhcyBhbiBPcmdhbml6YXRpb24KZGVmaW5lIGZ1bmN0aW9uICJSZXF1ZXN0aW5nIFByYWN0aXRpb25lclJvbGVzIGZyb20gU2VydmljZVJlcXVlc3QiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgQ3R4LiJQcm92aWRlciIuIlByYWN0aXRpb25lclJvbGVzIiBQcmFjdGl0aW9uZXJSb2xlCiAgICB3aXRoIChDdHguR2V0UmVxdWVzdGVyKHJlcXVlc3RJdGVtKSkgUmVxdWVzdGVyUHJhY3RpdGlvbmVyCiAgICBzdWNoIHRoYXQgUmVxdWVzdGVyUHJhY3RpdGlvbmVyLnJlZmVyZW5jZS5nZXRJZCgpIH4gUHJhY3RpdGlvbmVyUm9sZS5pZC52YWx1ZQoKZGVmaW5lIGZ1bmN0aW9uICJSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgZnJvbSBQcmFjdGl0aW9uZXJSb2xlcyIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBDdHguIlByb3ZpZGVyIi4iUHJhY3RpdGlvbmVycyIgUHJhY3RpdGlvbmVyCiAgICB3aXRoICgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJSb2xlcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IihyZXF1ZXN0SXRlbSkpIFJlcXVlc3RlclByYWN0aXRpb25lclJvbGUKICAgIHN1Y2ggdGhhdCBSZXF1ZXN0ZXJQcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lci5yZWZlcmVuY2UuZ2V0SWQoKSB+IFByYWN0aXRpb25lci5pZC52YWx1ZQoKZGVmaW5lIGZ1bmN0aW9uICJSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgZnJvbSBTZXJ2aWNlUmVxdWVzdCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBDdHguIlByb3ZpZGVyIi4iUHJhY3RpdGlvbmVycyIgUHJhY3RpdGlvbmVyCiAgICB3aXRoIChDdHguR2V0UmVxdWVzdGVyKHJlcXVlc3RJdGVtKSkgUmVxdWVzdGVyUHJhY3RpdGlvbmVyCiAgICBzdWNoIHRoYXQgUmVxdWVzdGVyUHJhY3RpdGlvbmVyLnJlZmVyZW5jZS5nZXRJZCgpIH4gUHJhY3RpdGlvbmVyLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVyIElEcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogICgKICAgICgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJSb2xlcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IihyZXF1ZXN0SXRlbSkpIFJlcXVlc3RlclByYWN0aXRpb25lclJvbGUKICAgIHJldHVybiBSZXF1ZXN0ZXJQcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lci5yZWZlcmVuY2UuZ2V0SWQoKQogICkKICB1bmlvbgogICgKICAgIChDdHguR2V0UmVxdWVzdGVyKHJlcXVlc3RJdGVtKSkgUmVxdWVzdGVyUHJhY3RpdGlvbmVyCiAgICAgIHJldHVybiBpZiAoUG9zaXRpb25PZignUHJhY3RpdGlvbmVyLycsIFJlcXVlc3RlclByYWN0aXRpb25lci5yZWZlcmVuY2UpID49IDApIAogICAgICAgIHRoZW4gUmVxdWVzdGVyUHJhY3RpdGlvbmVyLnJlZmVyZW5jZS5nZXRJZCgpCiAgICAgICAgZWxzZSBudWxsCiAgKSBpdGVtIHdoZXJlIG5vdCBJc051bGwoaXRlbSkKCmRlZmluZSBmdW5jdGlvbiAiQWxsIFJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBGb3VuZCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBJc1RydWUoCiAgICAiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXIgSURzIGZyb20gU2VydmljZVJlcXVlc3QiKHJlcXVlc3RJdGVtKQogICAgICBpbmNsdWRlZCBpbiAoKCJSZXF1ZXN0aW5nIFByYWN0aXRpb25lcnMgZnJvbSBQcm92aWRlciIocmVxdWVzdEl0ZW0pKSBQcmFjdGl0aW9uZXIgcmV0dXJuIFByYWN0aXRpb25lci5pZC52YWx1ZSkKICApCgpkZWZpbmUgZnVuY3Rpb24gIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByb3ZpZGVyIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogICgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gU2VydmljZVJlcXVlc3QiKHJlcXVlc3RJdGVtKSkKICAgIHVuaW9uICgiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJhY3RpdGlvbmVyUm9sZXMiKHJlcXVlc3RJdGVtKSkKCmRlZmluZSBmdW5jdGlvbiAiUmVxdWVzdGluZyBQcmFjdGl0aW9uZXJzIGZyb20gUGF5b3IiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgQ3R4LiJQYXlvciIuIlByYWN0aXRpb25lcnMiIFByYWN0aXRpb25lcgogICAgd2l0aCAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByb3ZpZGVyIihyZXF1ZXN0SXRlbSkpIFByYWN0aXRpb25lclJlcXVlc3RlcgogICAgc3VjaCB0aGF0IFByYWN0aXRpb25lclJlcXVlc3Rlci5nZXROcGkoKSB+IFByYWN0aXRpb25lci5nZXROcGkoKQoKZGVmaW5lIGZ1bmN0aW9uICJSZXF1ZXN0aW5nIFByYWN0aXRpb25lclJvbGVzIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIEN0eC4iUGF5b3IiLiJQcmFjdGl0aW9uZXJSb2xlcyIgUHJhY3RpdGlvbmVyUm9sZQogICAgd2l0aCAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVycyBmcm9tIFBheW9yIihyZXF1ZXN0SXRlbSkpIFJlcXVlc3RlclByYWN0aXRpb25lcgogICAgc3VjaCB0aGF0IFByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyLnJlZmVyZW5jZS5nZXRJZCgpIH4gUmVxdWVzdGVyUHJhY3RpdGlvbmVyLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9ucyBhc3NvY2lhdGVkIHdpdGggYSBQcmFjaXRpb25lclJvbGUiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgQ3R4LiJQYXlvciIuIk9yZ2FuaXphdGlvbnMiIE9yZ2FuaXphdGlvbgogICAgd2l0aCAoIlJlcXVlc3RpbmcgUHJhY3RpdGlvbmVyUm9sZXMiKHJlcXVlc3RJdGVtKSkgUmVxdWVzdFByYWN0Um9sZQogICAgc3VjaCB0aGF0IFJlcXVlc3RQcmFjdFJvbGUub3JnYW5pemF0aW9uLnJlZmVyZW5jZS5nZXRJZCgpIH4gT3JnYW5pemF0aW9uLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9ucyIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICAiUmVxdWVzdGluZyBPcmdhbml6YXRpb25zIGFzc29jaWF0ZWQgd2l0aCBhIFByYWNpdGlvbmVyUm9sZSIocmVxdWVzdEl0ZW0pCgpkZWZpbmUgZnVuY3Rpb24gIk1hdGNoaW5nIFJlcXVlc3RpbmcgT3JnYW5pemF0aW9ucyBieSBOYW1lICYgVHlwZSBvciBOUEkiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAoIlJlcXVlc3RpbmcgT3JnYW5pemF0aW9ucyIocmVxdWVzdEl0ZW0pKSBSZXF1ZXN0aW5nT3JnYW5pemF0aW9uCiAgICB3aXRoICJQYXlvciBPcmdhbml6YXRpb24gZnJvbSBQcm92aWRlciBDb3ZlcmFnZSBmb3IgUGF0aWVudCIgUGF5b3JPcmcKICAgIHN1Y2ggdGhhdCAKICAgICAgKFJlcXVlc3RpbmdPcmdhbml6YXRpb24ubmFtZSB+IFBheW9yT3JnLm5hbWUpCiAgICAgICAgb3IgKFJlcXVlc3RpbmdPcmdhbml6YXRpb24ubmFtZSB+IFBheW9yT3JnLm5hbWUgYW5kIFJlcXVlc3RpbmdPcmdhbml6YXRpb24udHlwZSB+IFBheW9yT3JnLnR5cGUpCiAgICAgICAgb3IgUmVxdWVzdGluZ09yZ2FuaXphdGlvbi5nZXROcGkoKSB+IFBheW9yT3JnLmdldE5waSgpCgpkZWZpbmUgZnVuY3Rpb24gIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVyUm9sZXMgZnJvbSBTZXJ2aWNlUmVxdWVzdCIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBDdHguIlByb3ZpZGVyIi4iUHJhY3RpdGlvbmVyUm9sZXMiIFByYWN0aXRpb25lclJvbGUKICAgIHdpdGggKEN0eC5HZXRQZXJmb3JtZXIocmVxdWVzdEl0ZW0pKSBQZXJmb3JtZXJQcmFjdGl0aW9uZXIKICAgIHN1Y2ggdGhhdCBQZXJmb3JtZXJQcmFjdGl0aW9uZXIucmVmZXJlbmNlLmdldElkKCkgfiBQcmFjdGl0aW9uZXJSb2xlLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVycyBmcm9tIFByYWN0aXRpb25lclJvbGVzIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIEN0eC4iUHJvdmlkZXIiLiJQcmFjdGl0aW9uZXJzIiBQcmFjdGl0aW9uZXIKICAgIHdpdGggKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lclJvbGVzIGZyb20gU2VydmljZVJlcXVlc3QiKHJlcXVlc3RJdGVtKSkgUGVyZm9ybWVyUHJhY3RpdGlvbmVyUm9sZQogICAgc3VjaCB0aGF0IFBlcmZvcm1lclByYWN0aXRpb25lclJvbGUucHJhY3RpdGlvbmVyLnJlZmVyZW5jZS5nZXRJZCgpIH4gUHJhY3RpdGlvbmVyLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVycyBmcm9tIFNlcnZpY2VSZXF1ZXN0IihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIEN0eC4iUHJvdmlkZXIiLiJQcmFjdGl0aW9uZXJzIiBQcmFjdGl0aW9uZXIKICAgIHdpdGggKEN0eC5HZXRQZXJmb3JtZXIocmVxdWVzdEl0ZW0pKSBQZXJmb3JtZXJQcmFjdGl0aW9uZXIKICAgIHN1Y2ggdGhhdCBQZXJmb3JtZXJQcmFjdGl0aW9uZXIucmVmZXJlbmNlLmdldElkKCkgfiBQcmFjdGl0aW9uZXIuaWQudmFsdWUKCmRlZmluZSBmdW5jdGlvbiAiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lcnMgZnJvbSBTZXJ2aWNlUmVxdWVzdCIocmVxdWVzdEl0ZW0pKQogICAgdW5pb24gKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lcnMgZnJvbSBQcmFjdGl0aW9uZXJSb2xlcyIocmVxdWVzdEl0ZW0pKQoKZGVmaW5lIGZ1bmN0aW9uICJQZXJmb3JtaW5nIFByYWN0aXRpb25lcnMgZnJvbSBQYXlvciIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBDdHguIlBheW9yIi4iUHJhY3RpdGlvbmVycyIgUHJhY3RpdGlvbmVyCiAgICB3aXRoICgiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKSkgUHJhY3RpdGlvbmVyUGVyZm9ybWVyCiAgICBzdWNoIHRoYXQgUHJhY3RpdGlvbmVyUGVyZm9ybWVyLmdldE5waSgpIH4gUHJhY3RpdGlvbmVyLmdldE5waSgpCgpkZWZpbmUgZnVuY3Rpb24gIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVyUm9sZXMgZnJvbSBQYXlvciIocmVxdWVzdEl0ZW0gQ2hvaWNlPEZISVIuTnV0cml0aW9uT3JkZXIsIEZISVIuU2VydmljZVJlcXVlc3QsIEZISVIuRGV2aWNlUmVxdWVzdCwgRkhJUi5NZWRpY2F0aW9uUmVxdWVzdCwgRkhJUi5WaXNpb25QcmVzY3JpcHRpb24+KToKICBDdHguIlBheW9yIi4iUHJhY3RpdGlvbmVyUm9sZXMiIFByYWN0aXRpb25lclJvbGUKICAgIHdpdGggKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lcnMgZnJvbSBQYXlvciIocmVxdWVzdEl0ZW0pKSBQcmFjdGl0aW9uZXIKICAgIHN1Y2ggdGhhdCBQcmFjdGl0aW9uZXJSb2xlLnByYWN0aXRpb25lci5yZWZlcmVuY2UuZ2V0SWQoKSB+IFByYWN0aXRpb25lci5pZC52YWx1ZQoKZGVmaW5lIGZ1bmN0aW9uICJQZXJmb3JtaW5nIFByYWN0aXRpb25lcnMgdmlhIFByYWNpdGlvbmVyUm9sZXMiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgQ3R4LiJQcm92aWRlciIuIlByYWN0aXRpb25lcnMiIFByYWN0aXRpb25lcgogICAgd2l0aCAoIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVyUm9sZXMgZnJvbSBQYXlvciIocmVxdWVzdEl0ZW0pKSBQcmFjdGl0aW9uZXJSb2xlCiAgICBzdWNoIHRoYXQgUHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIucmVmZXJlbmNlLmdldElkKCkgfiBQcmFjdGl0aW9uZXIuaWQudmFsdWUKCmRlZmluZSBmdW5jdGlvbiAiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXIgSURzIGZyb20gU2VydmljZVJlcXVlc3QiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgKAogICAgKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lclJvbGVzIGZyb20gU2VydmljZVJlcXVlc3QiKHJlcXVlc3RJdGVtKSkgUGVyZm9ybWVyUHJhY3RpdGlvbmVyUm9sZQogICAgICByZXR1cm4gUGVyZm9ybWVyUHJhY3RpdGlvbmVyUm9sZS5wcmFjdGl0aW9uZXIucmVmZXJlbmNlLmdldElkKCkKICApCiAgdW5pb24KICAoCiAgICAoQ3R4LkdldFBlcmZvcm1lcihyZXF1ZXN0SXRlbSkpIFBlcmZvcm1lclByYWN0aXRpb25lcgogICAgICByZXR1cm4gaWYgKFBvc2l0aW9uT2YoJ1ByYWN0aXRpb25lci8nLCBQZXJmb3JtZXJQcmFjdGl0aW9uZXIucmVmZXJlbmNlKSA+PSAwKSAKICAgICAgICB0aGVuIFBlcmZvcm1lclByYWN0aXRpb25lci5yZWZlcmVuY2UuZ2V0SWQoKQogICAgICAgIGVsc2UgbnVsbAogICkgaXRlbSB3aGVyZSBub3QgSXNOdWxsKGl0ZW0pCgpkZWZpbmUgZnVuY3Rpb24gIkFsbCBQZXJmb3JtaW5nIFByYWN0aXRpb25lcnMgRm91bmQiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgSXNUcnVlKAogICAgIlBlcmZvcm1pbmcgUHJhY3RpdGlvbmVyIElEcyBmcm9tIFNlcnZpY2VSZXF1ZXN0IihyZXF1ZXN0SXRlbSkKICAgICAgaW5jbHVkZWQgaW4gKCgiUGVyZm9ybWluZyBQcmFjdGl0aW9uZXJzIGZyb20gUHJvdmlkZXIiKHJlcXVlc3RJdGVtKSkgUHJhY3RpdGlvbmVyIHJldHVybiBQcmFjdGl0aW9uZXIuaWQudmFsdWUpCiAgKQoKZGVmaW5lIGZ1bmN0aW9uICJQYXlvciBPcmdhbml6YXRpb24gdmlhIFBlcmZvcm1pbmcgUHJhY2l0aW9uZXJSb2xlIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogIEN0eC4iUGF5b3IiLiJPcmdhbml6YXRpb25zIiBPcmdhbml6YXRpb24KICAgIHdpdGggKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lclJvbGVzIGZyb20gUGF5b3IiKHJlcXVlc3RJdGVtKSkgUHJhY3RpdGlvbmVyUm9sZQogICAgc3VjaCB0aGF0IFByYWN0aXRpb25lclJvbGUub3JnYW5pemF0aW9uLnJlZmVyZW5jZS5nZXRJZCgpIH4gT3JnYW5pemF0aW9uLmlkLnZhbHVlCgpkZWZpbmUgZnVuY3Rpb24gIlBlcmZvcm1pbmcgT3JnYW5pemF0aW9ucyBhc3NvY2lhdGVkIHdpdGggYSBQcmFjaXRpb25lclJvbGUiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgQ3R4LiJQYXlvciIuIk9yZ2FuaXphdGlvbnMiIE9yZ2FuaXphdGlvbgogIHdpdGggKCJQZXJmb3JtaW5nIFByYWN0aXRpb25lclJvbGVzIGZyb20gUGF5b3IiKHJlcXVlc3RJdGVtKSkgUHJhY3RpdGlvbmVyUm9sZQogIHN1Y2ggdGhhdCBQcmFjdGl0aW9uZXJSb2xlLm9yZ2FuaXphdGlvbi5yZWZlcmVuY2UuZ2V0SWQoKSB+IE9yZ2FuaXphdGlvbi5pZC52YWx1ZQoKZGVmaW5lIGZ1bmN0aW9uICJQZXJmb3JtaW5nIE9yZ2FuaXphdGlvbnMiKHJlcXVlc3RJdGVtIENob2ljZTxGSElSLk51dHJpdGlvbk9yZGVyLCBGSElSLlNlcnZpY2VSZXF1ZXN0LCBGSElSLkRldmljZVJlcXVlc3QsIEZISVIuTWVkaWNhdGlvblJlcXVlc3QsIEZISVIuVmlzaW9uUHJlc2NyaXB0aW9uPik6CiAgIlBlcmZvcm1pbmcgT3JnYW5pemF0aW9ucyBhc3NvY2lhdGVkIHdpdGggYSBQcmFjaXRpb25lclJvbGUiKHJlcXVlc3RJdGVtKQoKZGVmaW5lIGZ1bmN0aW9uICJNYXRjaGluZyBQZXJmb3JtaW5nIE9yZ2FuaXphdGlvbnMgYnkgTmFtZSAmIFR5cGUgb3IgTlBJIihyZXF1ZXN0SXRlbSBDaG9pY2U8RkhJUi5OdXRyaXRpb25PcmRlciwgRkhJUi5TZXJ2aWNlUmVxdWVzdCwgRkhJUi5EZXZpY2VSZXF1ZXN0LCBGSElSLk1lZGljYXRpb25SZXF1ZXN0LCBGSElSLlZpc2lvblByZXNjcmlwdGlvbj4pOgogICgiUGVyZm9ybWluZyBPcmdhbml6YXRpb25zIihyZXF1ZXN0SXRlbSkpIFBlcmZvcm1pbmdPcmdhbml6YXRpb24KICAgIHdpdGggIlBheW9yIE9yZ2FuaXphdGlvbiBmcm9tIFByb3ZpZGVyIENvdmVyYWdlIGZvciBQYXRpZW50IiBQYXlvck9yZwogICAgc3VjaCB0aGF0IAogICAgICBQZXJmb3JtaW5nT3JnYW5pemF0aW9uLm5hbWUgfiBQYXlvck9yZy5uYW1lCiAgICAgICAgb3IgKFBlcmZvcm1pbmdPcmdhbml6YXRpb24ubmFtZSB+IFBheW9yT3JnLm5hbWUgYW5kIFBlcmZvcm1pbmdPcmdhbml6YXRpb24udHlwZSB+IFBheW9yT3JnLnR5cGUpCiAgICAgICAgb3IgUGVyZm9ybWluZ09yZ2FuaXphdGlvbi5nZXROcGkoKSB+IFBheW9yT3JnLmdldE5waSgpCgpkZWZpbmUgIlBheW9yIFJlZmVyZW5jZXMgYnkgQ292ZXJhZ2UucGF5b3IiOgogIGZsYXR0ZW4oQ3R4LiJQcm92aWRlciIuIkNvdmVyYWdlcyIgQyByZXR1cm4gQy5wYXlvci5yZWZlcmVuY2UudmFsdWUpCgpkZWZpbmUgIlBheW9yIE9yZ2FuaXphdGlvbiBmcm9tIFByb3ZpZGVyIENvdmVyYWdlIGZvciBQYXRpZW50IjoKICBDdHguIlByb3ZpZGVyIi4iT3JnYW5pemF0aW9ucyIgTwogICAgd2l0aCAiUGF5b3IgUmVmZXJlbmNlcyBieSBDb3ZlcmFnZS5wYXlvciIgUgogICAgc3VjaCB0aGF0IFIuZ2V0SWQoKSA9IE8uaWQudmFsdWU="
  } ]
}