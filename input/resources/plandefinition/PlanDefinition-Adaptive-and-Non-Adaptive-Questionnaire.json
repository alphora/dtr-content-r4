{
  "resourceType": "PlanDefinition",
  "id": "Adaptive-and-Non-Adaptive-Questionnaire",
  "meta": {
    "profile": [
      "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-publishableplandefinition"
    ]
  },
  "extension": [
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "shareable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "computable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "executable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeCapability",
      "valueCode": "publishable"
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-knowledgeRepresentationLevel",
      "valueCode": "structured"
    },
    {
      "url": "http://hl7.org/fhir/us/cqfmeasures/StructureDefinition/cqfm-softwaresystem",
      "valueReference": {
        "reference": "Device/cqf-tooling"
      }
    },
    {
      "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-questionnaire-generate",
      "valueBoolean": true
    }
  ],
  "identifier": [
    {
      "use": "official",
      "value": "Adaptive-and-Non-Adaptive-Questionnaire"
    }
  ],
  "url": "http://example.org/sdh/dtr/aslp/PlanDefinition/Adaptive-and-Non-Adaptive-Questionnaire",
  "version": "1.0.0",
  "status": "draft",
  "experimental": true,
  "useContext": [
    {
      "code": {
        "code": "task",
        "system": "http://terminology.hl7.org/CodeSystem/usage-context-type",
        "display": "Workflow Task"
      },
      "valueCodeableConcept": {
        "coding": [
          {
            "code": "ASLP.PAS",
            "system": "http://fhir.org/guides/nachc/hiv-cds/CodeSystem/activity-codes",
            "display": "Prior Auth Adjudication"
          }
        ]
      }
    }
  ],
  "publisher": "Smile Digital Health",
  "jurisdiction": [
    {
      "coding": [
        {
          "version": "4.0.1",
          "system": "http://hl7.org/fhir/ValueSet/iso3166-1-3",
          "code": "USA",
          "display": "United States of America"
        }
      ]
    }
  ],
  "usage": "This is to be used in conjunction with a patient-facing FHIR application.",
  "library": [
    "http://example.org/sdh/dtr/aslp/Library/ASLPPolicyPAA"
  ],
  "action": [
    {
      "title": "Qualifying Sleep Study Procedure",
      "description": "Input for whether the patient has a sleep study procedure request.",
      "input": [
        {
          "extension": [
            {
              "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-input-text",
              "valueString": "Does patient have a sleep study procedure request?"
            },
            {
              "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-input-description",
              "valueMarkdown": "The patient has a sleep study procedure request"
            },
            {
              "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-featureExpression",
              "valueExpression": {
                "language": "text/cql-identifier",
                "expression": "Qualifying Sleep Study Procedure",
                "reference": "http://example.org/sdh/dtr/aslp/Library/ASLPPolicyPAA"
              }
            }
          ],
          "type": "Observation",
          "profile": [
            "http://example.org/sdh/dtr/aslp/StructureDefinition/aslp-paa-sleepstudy-procedure-casefeature-definition"
          ]
        }
      ],
      "action": [
        {
          "title": "Is Qualifying Sleep Study Procedure",
          "description": "The patient has a qualifying sleep study procedure request.",
          "condition": [
            {
              "kind": "applicability",
              "expression": {
                "language": "text/cql-identifier",
                "expression": "Is Qualifying Sleep Study Procedure"
              }
            }
          ], 
          "definitionCanonical": "http://example.org/sdh/dtr/aslp/PlanDefinition/Home-Monitor-Sleep-Testing-Questionnaire"
        },
        {
          "title": "Sleep Study Procedure Unknown",
          "description": "The sleep study procedure is unknown. More Information is needed.",
          "condition": [
            {
              "kind": "applicability",
              "expression": {
                "language": "text/cql-identifier",
                "expression": "Sleep Study Procedure Unknown"
              }
            }
          ],
          "definitionCanonical": "http://example.org/sdh/dtr/aslp/PlanDefinition/aslp-pa-adj-temp-not-approved"
        },
        {
          "title": "Is Not Qualifying Sleep Study Procedure",
          "description": "The patient does not have a qualifying sleep study procedure request.",
          "condition": [
                {
                    "kind": "applicability",
                    "expression": {
                        "language": "text/cql-identifier",
                        "expression": "Not Within Qualifying Sleep Study Procedure"
                    }
                }
            ],
            "action": [
                {
                  "title": "Qualifying Other Procedure",
                  "description": "Input for whether the patient has an other qualifying procedure request.",
                  "input": [
                        {
                        "extension": [
                            {
                              "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-input-text",
                              "valueString": "Does patient have an other qualifying procedure request?"
                            },
                            {
                              "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-input-description",
                              "valueMarkdown": "Patient has an other qualifying procedure request"
                            },
                            {
                              "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-featureExpression",
                              "valueExpression": {
                                  "language": "text/cql-identifier",
                                  "expression": "Qualifying Other Procedure",
                                  "reference": "http://example.org/sdh/dtr/aslp/Library/ASLPPolicyPAA"
                              }
                            }
                        ],
                        "type": "Observation",
                        "profile": [
                            "http://example.org/sdh/dtr/aslp/StructureDefinition/aslp-paa-other-procedure-casefeature-definition"
                        ]
                        }
                    ],
                    "action": [
                        {
                            "title": "Is Qualifying Other Procedure",
                            "description": "The patient has an other qualifying procedure request.",
                            "condition": [
                                {
                                "kind": "applicability",
                                "expression": {
                                    "language": "text/cql-identifier",
                                    "expression": "Is Qualifying Other Procedure"
                                }
                                }
                            ], 
                            "definitionCanonical": "http://example.org/sdh/dtr/aslp/PlanDefinition/Home-Monitor-Sleep-Testing"
                        },
                        {
                            "title": "Other Procedure Unknown",
                            "description": "The other procedure is unknown. More Information is needed.",
                            "condition": [
                                {
                                "kind": "applicability",
                                "expression": {
                                    "language": "text/cql-identifier",
                                    "expression": "Other Procedure Unknown"
                                }
                                }
                            ],
                            "definitionCanonical": "http://example.org/sdh/dtr/aslp/PlanDefinition/aslp-pa-adj-temp-not-approved"
                        },
                        {
                            "title": "Is Not Qualifying Other Procedure",
                            "description": "The patient does not have an other qualifying procedure request.",
                            "condition": [
                                {
                                "kind": "applicability",
                                "expression": {
                                    "language": "text/cql-identifier",
                                    "expression": "Not Within Qualifying Other Procedure"
                                }
                                }
                            ],
                            "definitionCanonical": "http://example.org/sdh/dtr/aslp/PlanDefinition/aslp-pa-adj-not-approved"
                        }
                    ]
                }
            ]
        }
      ]
    }
  ]
}
            



    